package com.test.jdbc;

import java.beans.Statement;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

import com.sun.jdi.connect.spi.Connection;

public class Ex04_PreparedStatement {
	
	public static void main(String[] args) {
		
		
		//Ex04_PreparedStatement.java
		
		//Statement vs PreparedStatement
		//- Statement > 정적 SQL (매개변수 X)
		//- PreparedStatemend > 동적 SQL(매개변수 o)
		
		//정적 SQL
		String sql="insert into tblAddress (seq, name, age, gender, address, regdate) values (seqAddress.nextval, '아무개', 22, 'm', '서울시 강남구 대치동', default)";//정적 SQL
		
		
		//정적 SQL
		sql = "insert into tblAddress (seq, name, age, gender, address, regdate) values (seqAddress.nextval, '%s', %s, '%s', '%s', default)";

		//동적 SQL
		sql = "insert into tblAddress (seq, name, age, gender, address, regdate) values (seqAddress.nextval, ?, ?, ?, ?, default)";
	
	
	
		//insert + 사용자 입력 + Scanner
		String name ="하하하";
		String age = "20";
		String gender = "m";
		String address ="서울시 강남구 역삼동's 아파트";
		
		name="";
		address="";
		
		Connection conn = null;
		Statement stat = null;
		PreparedStatement pstat = null;
		
		

	      
		try {
	         
//	         conn = DBUtil.open();
//	         
//	         sql = String.format("insert into tblAddress (seq, name, age, gender, address, regdate) values (seqAddress.nextVal, '%s', %s, '%s', '%s', default)", name, age, gender, address);
//	         
//	         stat = conn.createStatement();
//	         
//	         int result = stat.executeUpdate(sql);
//	         
//	         System.out.println(result);
	         
			sql="insert into tblAddress (seq, name, age, gender, address, regdate) values (seqAddress.nextval, ?, ?, ?, ?, default)";
	         
			
			pstat = conn.prepareStatement(sql);
			
			int result  = pstat.executeUpdate();
			stat.close();
	        conn.close();
	         
	      } catch (Exception e) {
	         e.printStackTrace();
	      }


		
	
	}//m1
	

}
